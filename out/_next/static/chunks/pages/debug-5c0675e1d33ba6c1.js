(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{467:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug",function(){return i(7679)}])},7679:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return d}});var s=i(5893),t=i(1151),o=i(1664),l=i.n(o);function a(e){let n=Object.assign({h1:"h1",h2:"h2",p:"p",a:"a",img:"img",code:"code",ul:"ul",li:"li",strong:"strong",br:"br"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"using-visual-studio-debugger-to-figure-out-game-crash-reason",children:"Using Visual Studio debugger to figure out game crash reason"}),"\n",(0,s.jsx)(n.h2,{id:"installing-visual-studio",children:"Installing Visual Studio"}),"\n",(0,s.jsx)(n.p,{children:"First of all, you need to install Visual Studio. In this guide I will be using Visual Studio 2022, however 2019 will work as well."}),"\n",(0,s.jsxs)(n.p,{children:["Download it here: ",(0,s.jsx)(n.a,{href:"https://visualstudio.microsoft.com/vs/preview/#download-preview",children:"https://visualstudio.microsoft.com/vs/preview/#download-preview"})]}),"\n",(0,s.jsx)(n.p,{children:'Select "Visual Studio Community" and run downloaded executable. Wait until visual studio installer gets installed. Then go to "Individual components", select "Just-In-Time debugger" and press "Install" button. You only need this component, however, if you wish, you may install any additional ones.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"images/debug/1_install_vs.png",alt:"image_451"})}),"\n",(0,s.jsx)(n.p,{children:'If it gives you any confirmations, just press "Continue". Now wait until it will install. Reboot if it will ask you to do so.'}),"\n",(0,s.jsx)(n.h2,{id:"configuring-visual-studio",children:"Configuring Visual Studio"}),"\n",(0,s.jsx)(n.p,{children:"Before you will start debugging, you will need to perform some configuration. Launch Visual Studio and it will prompt you to log in, you may do so or skip."}),"\n",(0,s.jsx)(n.p,{children:'Select "Continue without code" on starting screen.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"images/debug/2_startup_window.png",alt:"image_452"})}),"\n",(0,s.jsx)(n.p,{children:'Navigate to "Debug - Options - Debugging - General" and disable "Enable Just My Code" option. Don\'t forget to press "Ok" button.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"images/debug/3_config.png",alt:"image_453"})}),"\n",(0,s.jsx)(n.h2,{id:"configuring-dalamud",children:"Configuring Dalamud"}),"\n",(0,s.jsxs)(n.p,{children:["Before you will be able to attach a debugger, you will need to disable anti-debug protection. Type ",(0,s.jsx)(n.code,{children:"/xldev"}),' in game, open "Dalamud" menu and select "Enable Anti-debug" menu item if it\'s unchecked.']}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"images/debug/4_dalamud_config.png",alt:"image_454"})}),"\n",(0,s.jsx)(n.h2,{id:"attaching-a-debugger",children:"Attaching a debugger"}),"\n",(0,s.jsx)(n.p,{children:'Navigate to "Debug - Attach to process". In "Attach to" section click on "Select" button, check "Debug these code types" checkbox, and check "Managed (.NET core, .NET 5+)" and "Native" checkboxes. Press "Ok" button and then find "ffxiv_dx11.exe" process in process list. Select it and click "Attach" button.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"images/debug/5_attach_debugger.png",alt:"image"})}),"\n",(0,s.jsx)(n.p,{children:'Debugging session should begin now. Navigate to "Debug - Windows - Exception settings" and uncheck "Common Language Runtime Exceptions". We don\'t need them.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"images/debug/6_exception_settings.png",alt:"image"})}),"\n",(0,s.jsx)(n.h2,{id:"crash",children:"Crash"}),"\n",(0,s.jsx)(n.p,{children:"When a crash occurs, you will see it in Visual Studio. It may prompt you to load source or PDB file for crashed module, in that case just close that window."}),"\n",(0,s.jsx)(n.p,{children:"You will see something like this:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"images/debug/7_crash.png",alt:"image_456"})}),"\n",(0,s.jsx)(n.p,{children:"You can close exception alert modal window. We don't need it. Look on a Call stack. If you don't see Call stack window, navigate to \"Debug - Windows - Call stack\". You can see crash happened on a Test plugin function call. Usually there will be some plugin mentioned there, but not always."}),"\n",(0,s.jsx)(n.p,{children:"Generally, try to disable that plugin and reproduce the crash again. If you can confirm that the crash stopped happening, please report the crash to a plugin developer."}),"\n",(0,s.jsx)(n.h2,{id:"reporting-a-problem",children:"Reporting a problem"}),"\n",(0,s.jsx)(n.p,{children:"You will need to include following things into your report:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Call stack","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Right click any call stack entry, select "Select all", right click again, "Copy" (or Ctrl+A - Ctrl+C).'}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Exception","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Navigate to "Debug - Windows - Output", find last error and copy it.'}),"\n",(0,s.jsxs)(n.li,{children:["It will look ",(0,s.jsx)(n.a,{href:"images/debug/8_output.png",children:"like this"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Base address","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['Please include process base address. Navigate to "Debug - Windows - Modules", find ',(0,s.jsx)(n.code,{children:"ffxiv_dx11.exe"}),', right click on it, select "Copy". The information copied will contain process base address. ',(0,s.jsx)(n.strong,{children:"Please note that you must copy base address from the same game session, base address changes every game restart"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["It will look ",(0,s.jsx)(n.a,{href:"images/debug/9_base_address.png",children:"like this"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Dalamud log"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exiting-debugger",children:"Exiting debugger"}),"\n",(0,s.jsx)(n.p,{children:'To detach a debugger, navigate to "Debug - Stop debugging".'}),"\n",(0,s.jsxs)(n.p,{children:["[Return to the top](#Installing Visual Studio)",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(l(),{href:"/",children:"Return to the main FAQ"})]})]})}var r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(a,e)})):a(e)};function d(){return(0,s.jsx)(r,{})}},1151:function(e,n,i){"use strict";i.d(n,{ah:function(){return o}});var s=i(7294);let t=s.createContext({});function o(e){let n=s.useContext(t);return s.useMemo(()=>"function"==typeof e?e(n):{...n,...e},[n,e])}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=467)}),_N_E=e.O()}]);